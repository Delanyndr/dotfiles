1. Pre-installation 
	a. Make bootable .iso and verify signature 
	b. Once in live, verify boot mode is efi: ls /sys/firmware/efi/efivars
    c. Ping archlinux.org to verify internet connection. Use wired, but see
       wiki for for wifi instructions
    d. update system clock: timedatectl set-ntp true

2. Partition Drives
    a. List partitions: fdisk -l
	a. fdisk /dev/sdX
	b. make partitions for...
		i. efi 550M, should have part type 'EFI System'
		ii. SWAP generally equal to RAM + 1G
		iii. / (root) rest of drive
	c. format efi/root partitions: 
        i.  efi: mkfs.fat -F32 /dev/sdXx
        ii. root: mkfs.ext4 /dev/sdXx
	d. designate swap partition: mkswap /dev/<swp> && swapon /dev/<swp>;
	e. mount drives
		i. mount /dev/<root> /mnt
		iii. mkdir /mnt/boot; mount /dev/<efi> /mnt/boot;

3. Install Arch
    a. Sort /etc/pacman.d/mirrorlist so that closer mirrors are at the top.
    b. Intall base packages: pacstrap /mnt base <base-devel> ... 
    c. <man want more base packages for wireless> 

4. Configure system
    a. make fstab: genfstab -U /mnt >> /mnt/etc/fstab
    b. Jump into arch install: arch-chroot /mnt 
    c. Set time zone: ln -sf /usr/share/zoneinfo/America/<City> /etc/localtime
    d. Run hwclock: hwclock --systohc
    e. Uncomment 'en_US.UTF-8' in /etc/locale.gen then run: locale-gen
    f. Set LANG: echo "LANG=en_US.UTF-8" > /etc/locale.conf
    g. Set root password: passwd
    h. Enable TRIM for ssd: systemctl enable fstrim.timer
    i. Add users: useradd -g users -G wheel,storage,power -m jake; passwd jake
    j. Grant user sudo privlages: visudo, uncomment wheel entry of choice. 
    
5. Configure network
    a. Set hostname: echo "hostname" > /etc/hostname
    b. Add matching entries to /etc/hosts 
        127.0.0.1   localhost
        ::1         localhost
        127.0.1.1   myhostname.localdomain myhostname
    c. Network configuration on wiki.

6. Install & configure bootloader
    a. Run: pacman -S intel-ucode
    b. For systemd-boot, install using: bootctl --path=/boot install
    c. Ensure updated with: bootctl update
        - For pacman hooks to autoupdate systemd-boot, add the following to /etc/pacman.d/hooks/systemd-boot.hook
            [Trigger]
            Type = Package
            Operation = Upgrade
            Target = systemd

            [Action]
            Description = Updating systemd-boot
            When = PostTransaction
            Exec = /usr/bin/bootctl update
        - Could install systemd-boot-pacman-hook instead 
    d. Config file at /boot/loader/loader.conf [see wiki for options]
        - e.x.  default arch
                timeout 4
                console-mode max
                editor no
    e. Add loader: /boot/loader/entries/arch.conf
        - e.x.  title Arch Linux
                linux /vmlinuz-linux
                initrd /intel-ucode.img
                initrd /initramfs-linux.img
                options root=LABEL=arch_os rw (must label root to arch_os in fdisk)
        - options alternative: echo "options root=PARTUUID=$(blkid -s PARTUUID -o value /dev/<root>) rw" >> /boot/loader/entries/arch.conf 
		

9. 'exit' back to iso, unmount drives 'umount -R /mnt'; reboot; and remove iso. 

10. Install essential pacs: e.g. pacman -S ... 
	- networkmanager, vim, tlp(laptop)
	- Start NetMan on boot: systemctl enable NetworkManager
    - For VBox: virtualbox-guest-utils

11. TODO: steps for gui

Notes: 
	- To start a service every startup
		sudo systemctl enable <SERVICENAME>
	- To start a service right now
		suod systemctl start <SERVICENAME>
    - LARBS for easy post-install config
        - curl -LO larbs.xyz/larbs.sh
        - bash larbs.sh
